pipeline {
	parameters { choice(name: 'CHOICES', choices: ['BUILD', 'TEST'], description: '') }
    agent { 
		docker { 
			image 'alpine:latest' 
		}
	}
    stages {
    	stage('BUILD') {
            when { environment name: 'CHOICES', value: 'BUILD' }
	    steps {
	    	echo 'build'}
        }
	stage('TEST') {
            when { environment name: 'CHOICES', value: 'TEST' }
	    steps {
	    	echo 'test'}
        }
	    }
    }
}
